## このプラグイン
このプラグインはbaserCMS（4系）でMauticのトラッキングコードを出力するためのプラグインです。
baserCMSのメールフォームのフィールド名とMauticのカスタムフィールド名を揃えておけば、ユーザーがメールフォームを送信する際、自動でその内容をMauticに送信し、コンタクトに追加できます。

## Mautic側の設定
### 「カスタムフィールド」の設定を行う
baserCMSのメールフォームと連携したいカスタムフィールドについて、「パブリックに更新可能」を「はい」に設定します。
このとき、当該フィールドのエイリアスを控えておきます。

## baserCMS側の設定
### プラグインをインストールする
通常のプラグインと同じようにインストールします。

### MauticのインストールURLを設定する
本プラグインの設定画面でMauticのインストールURLを設定します。

### メールフォームのフィールドにMauticのエイリアス名を指定する
baserCMSに標準搭載のメールフォームを使います。メールフォームの管理画面からメールフィールドの一覧にすすみ、Mautic側に送信したいフィールドの編集画面に入ります。
編集画面の「フィールド名」の部分を、先ほど控えておいたMauticのエイリアス名にして保存します。
（連携するフィールドはいくつでも大丈夫ですので、姓、名、会社、メールアドレスなどを連携すると良さそうです）

### テンプレートにヘルパーを入れる
利用しているテーマのbodyタグ内に以下のヘルパーを記述します。自動でトラッキングコードを出力します。
`<?php $this->BcBaser->mauticTrackingCode() ?>`

## ライセンス
MIT